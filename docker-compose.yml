version: '3'

services:
  sailsjs:
    environment:
      - MYSQL_HOST="localhost"
      - MYSQL_DATABASE="sails_db"
      - MYSQL_PORT="3306"
      - MYSQL_USER="sails_user"
      - MYSQL_PASSWORD="sailsPowdj940"
      - GOOGLE_MAP_API_KEY="AIzaSyDyyYUnMVp4jZkqayKx799K74OVTnS6WAk"
      - ZOMATO_API_KEY="9af1fb4082990a117db538e4fae683f3"
      - ZOMATO_API_URL="https://developers.zomato.com/api/v2.1"
    build:
      context: .
      dockerfile: Dockerfile
    # image: nixon1333/sailsjs-core:stable
    ports:
    - 80:1337
    volumes:
    - .:/usr/src/app

  mysqlsails:
    image: mysql
    environment:
      MYSQL_ROOT_PASSWORD: examplerootPW
      MYSQL_DATABASE: sails_db
      MYSQL_USER: sails_user
      MYSQL_PASSWORD: sailsPowdj940
    volumes:
    - mysql-data:/var/lib/mysql

volumes:
  mysql-data:
